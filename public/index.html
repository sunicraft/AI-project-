<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SuniCraft –YouTube SEO Tool</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body{
    margin:0;
    font-family:'Segoe UI',sans-serif;
    background:#0B0C10;
    color:#C5C6C7;
}
.header{
    background:#1F2833;
    padding:15px;
    display:flex;
    justify-content:space-between;
    align-items:center;
}
.logo{
    display:flex;
    align-items:center;
}
.logo-circle{
    width:45px;height:45px;
    border-radius:50%;
    background:linear-gradient(135deg,#66FCF1,#45A29E);
    display:flex;
    align-items:center;
    justify-content:center;
    margin-right:10px;
    font-weight:bold;
    color:#1F2833;
}
.container{
    max-width:900px;
    margin:25px auto;
    padding:25px;
    background:#1F2833;
    border-radius:10px;
}
input{
    width:100%;
    padding:12px;
    font-size:18px;
    border-radius:6px;
    border:2px solid #66FCF1;
    background:#0B0C10;
    color:#fff;
}
button{
    margin-top:15px;
    padding:10px 20px;
    background:#66FCF1;
    border:none;
    border-radius:5px;
    font-weight:bold;
    cursor:pointer;
}
.result-item{
    display:flex;
    justify-content:space-between;
    align-items:center;
    background:#0B0C10;
    padding:12px;
    border-left:4px solid #66FCF1;
    margin-top:10px;
    border-radius:6px;
}
.result-item span{
    cursor:pointer;
}
.thumbnail-preview-area{
    display:flex;
    gap:20px;
    margin-top:15px;
    flex-wrap:wrap;
}
.thumbnail{
    width:260px;
    height:150px;
    background:#253341;
    border:3px solid #66FCF1;
    position:relative;
    border-radius:6px;
}
.thumbnail-text-overlay{
    position:absolute;
    bottom:10px;
    left:50%;
    transform:translateX(-50%);
    background:rgba(0,0,0,.7);
    padding:5px 8px;
    border-radius:4px;
    font-size:14px;
    color:#fff;
    width:90%;
    text-align:center;
}
.tag-item{
    display:inline-block;
    background:#45A29E;
    color:#1F2833;
    padding:5px 10px;
    border-radius:15px;
    margin:4px;
    font-size:13px;
}
.light-mode{
    background:#F0F0F0;
    color:#1F2833;
}
.light-mode .container,
.light-mode .header{
    background:#fff;
    color:#1F2833;
}
.loading{
    opacity:0.6;
}
</style>
</head>

<body>

<header class="header">
    <div class="logo">
        <div class="logo-circle">SC</div>
        <h2>SuniCraft</h2>
    </div>
    <button class="toggle-button">Toggle Light</button>
</header>

<div class="container">
    <h2>YouTube Title Generator</h2>
    <input id="inputTitle" placeholder="Enter video topic">
    <button onclick="runAnalysis()">Analyze & Generate</button>
    <div id="titles-results"></div>
</div>

<div class="container">
    <h2>Keyword Research & Tags</h2>
    <div id="keyword-results"></div>
    <div id="tag-results"></div>
</div>

<div class="container" id="preview-section">
    <h2>Thumbnail & Search Preview</h2>

    <p><b>Title:</b> <span id="preview-title">---</span></p>
    <p><b>Description:</b> <span id="preview-description">---</span></p>

    <div class="thumbnail-preview-area">
        <div class="thumbnail">
            <div class="thumbnail-text-overlay" id="desktop-title-overlay">Title</div>
        </div>
        <div class="thumbnail">
            <div class="thumbnail-text-overlay" id="mobile-title-overlay">Title</div>
        </div>
    </div>
</div>

<script>
const BACKEND_URL = "https://ai-project-14h7.onrender.com";

async function runAnalysis(){
    const topic = document.getElementById("inputTitle").value.trim();
    if(!topic){ alert("Enter topic"); return; }

    const resultBox = document.getElementById("titles-results");
    resultBox.innerHTML = "Analyzing...";
    resultBox.classList.add("loading");

    try{
        const res = await fetch(BACKEND_URL,{
            method:"POST",
            headers:{ "Content-Type":"application/json" },
            body: JSON.stringify({ topic })
        });

        if(!res.ok) throw new Error("Backend error");

        const data = await res.json();

        showTitles(data.titles || []);
        showKeywords(data.keywords || []);
        showTags(data.tags || []);

        updatePreview(
            data.titles?.[0] || "Generated Title",
            data.description_snippet || "SEO optimized description preview"
        );
    }catch(err){
        resultBox.innerHTML = "❌ Server not responding";
        console.error(err);
    }finally{
        resultBox.classList.remove("loading");
    }
}

function showTitles(list){
    const box = document.getElementById("titles-results");
    box.innerHTML = "";
    list.forEach(t=>{
        const div = document.createElement("div");
        div.className="result-item";

        const span = document.createElement("span");
        span.textContent=t;
        span.onclick=()=>updatePreview(
            t,
            document.getElementById("preview-description").textContent
        );

        const btn=document.createElement("button");
        btn.textContent="Copy";
        btn.onclick=()=>navigator.clipboard.writeText(t);

        div.append(span,btn);
        box.appendChild(div);
    });
}

function showKeywords(list){
    const box=document.getElementById("keyword-results");
    box.innerHTML="";
    list.forEach(k=>{
        box.innerHTML+=`<p>${k.keyword} (${k.score||50}/100)</p>`;
    });
}

function showTags(list){
    const box=document.getElementById("tag-results");
    box.innerHTML="";
    list.forEach(t=>{
        box.innerHTML+=`<span class="tag-item">#${t.replace(/\s+/g,"_")}</span>`;
    });
}

function updatePreview(title,desc){
    document.getElementById("preview-title").textContent = title;
    document.getElementById("preview-description").textContent = desc;
    document.getElementById("desktop-title-overlay").textContent = title;
    document.getElementById("mobile-title-overlay").textContent = title;
}

document.querySelector(".toggle-button").onclick=()=>{
    document.body.classList.toggle("light-mode");
};
</script>

</body>
</html>
